---
title: Design Patterns
short_title: patterns
next_content_short: errors
previous_content_short: careers
---

== Design Patterns

<h1 style="page-break-before:always; ">OO-Concepts</h1>
<ul>
    <li>Don’t rewrite code</li>
    <li>Encapsulation</li>
    <li>Inheritance</li>
    <li>Write flexible code</li>
</ul>
<h1 style="page-break-before:always; "><a href="http://gameprogrammingpatterns.com/design-patterns-revisited.html"><u>Design
    Patterns</u></a></h1>
<ul>
    <li>Time to level up!</li>
    <li>Necessary when the projects are large</li>
    <li>Course projects (possibly including CSE442)</li>
    <ul>
        <li>Small projects</li>
        <li>Requirements don’t change</li>
        <li>No design patterns needed</li>
        <li>Can get away without proper OO usage</li>
    </ul>
    <li>Large projects with poor design</li>
    <ul>
        <li>Do you want to refactor 10,000 lines of code?</li>
        <li>100,000 lines?</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Caution</h1>
<ul>
    <li>Design patterns should be used in moderation</li>
    <li>This is a hammer</li>
    <ul>
        <li>Not all problems are nails</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Let’s learn these</h1>
<ul>
    <li>Singleton</li>
    <li>Observer pattern</li>
    <li>Decorator Pattern</li>
    <li>Factory Pattern</li>
    <li>//Command pattern</li>
    <li>Adapter Pattern</li>
    <li>State pattern</li>
    <li>MVC</li>
</ul>
<h1 style="page-break-before:always; ">Singleton</h1>
<ul>
    <li>There can be only one!</li>
    <li>When your codebase needs to share a single object (not a single class)</li>
    <li>Private constructor</li>
    <ul>
        <li>What?</li>
    </ul>
    <li>Controversial</li>
    <ul>
        <li>Introduces global state</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Singleton</h1>
<h1 style="page-break-before:always; ">Singleton</h1>
<ul>
    <li>No need to pass the settings in every constructor and function call</li>
    <li>Can cause issues</li>
    <ul>
        <li>What if I want multiple sets of settings concurrently?</li>
        <li>Panic</li>
        <li>Then run multiple instances of the program and let the OS take care of it</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Lazy Initialization</h1>
<ul>
    <li>Don’t create an object until it’s about to be used</li>
    <li>If an object is never used, it’s never created</li>
    <li>Can prevent multiple instantiations</li>
    <li>Can greatly improve efficiency</li>
    <li>At least spreads out the computation</li>
    <ul>
        <li>If that’s what you’re into</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Observer Pattern</h1>
<ul>
    <li>A single object has many other objects that need to know when it updates</li>
    <li>On an update, broadcast to all concerned objects</li>
    <li>But how?</li>
    <li>Thermostat temp sensor</li>
    <ul>
        <li>Furnace</li>
        <li>AC</li>
        <li>Mobile app</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Observer Pattern</h1>
<h1 style="page-break-before:always; ">Observer Pattern</h1>
<ul>
    <li>Loose coupling</li>
    <li>Observers can be registered and unregistered during runtime</li>
    <ul>
        <li>Flexible</li>
        <li>Dynamic</li>
    </ul>
    <li>No need to hardcode and notify every possible object that might ever be concerned</li>
    <li>Subject is only coded once</li>
    <ul>
        <li>This is a big deal!</li>
    </ul>
</ul>
<h1 style="page-break-before:always; ">Scenario</h1>
<ul>
    <li>Inspired from <a
            href="http://www.amazon.com/Head-First-Design-Patterns-Freeman/dp/0596007124/ref=sr_1_1?ie=UTF8&qid=1443164314&sr=8-1&keywords=Head+First:+Design+Patterns"><u>Head
        First Design Patterns</u></a></li>
    <li>Need to compute the cost of a burger</li>
    <li>Condiments cost extra</li>
</ul>
<table>
    <tr>
        <td>
            <p>Burger</p>
        </td>
        <td>
            <p>$1.50</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Ketchup</p>
        </td>
        <td>
            <p>$0.05</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Relish</p>
        </td>
        <td>
            <p>$0.10</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Cheese</p>
        </td>
        <td>
            <p>$0.50</p>
        </td>
    </tr>
</table>
<h1 style="page-break-before:always; ">Scenario</h1>
<ul>
    <li>How do we adjust to added requirement?</li>
</ul>
<table>
    <tr>
        <td>
            <p>Burger</p>
        </td>
        <td>
            <p>$1.50</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Ketchup</p>
        </td>
        <td>
            <p>$0.05</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Relish</p>
        </td>
        <td>
            <p>$0.10</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Cheese</p>
        </td>
        <td>
            <p>$0.25</p>
        </td>
    </tr>
    <tr>
        <td>
            <p>Bacon</p>
        </td>
        <td>
            <p>$0.50</p>
        </td>
    </tr>
</table>
<h1 style="page-break-before:always; ">Scenario</h1>
<ul>
    <li>Customer orders double cheese and triple bacon</li>
</ul>
<h1 style="page-break-before:always; ">Decorator Pattern</h1>
<ul>
    <li>Wrapper classes</li>
    <li>Add features by adding wrapper classes</li>
    <li>Outer object interacts with the world</li>
    <li>Original/inner object is hidden</li>
    <li>Especially useful when original class is in a library and lacks needed funtionality</li>
</ul>
<h1 style="page-break-before:always; ">Decorator Pattern</h1>
<h1 style="page-break-before:always; ">Decorator Pattern</h1>
<p><b>Food Item</b></p>
<p>cost()</p>
<p><b>Condiment</b></p>
<p>-Food Item</p>
<p>cost()</p>
<p><b>Burger</b></p>
<p>cost()</p>
<p><b>Relish</b></p>
<p>cost()</p>
<p><b>Cheese</b></p>
<p>cost()</p>
<p><b>Ketchup</b></p>
<p>cost()</p>
<p><b>Bacon</b></p>
<p>cost()</p>
<h1 style="page-break-before:always; ">Scenario</h1>
<ul>
    <li>Need to create an enemy (abstract class)</li>
    <li>Type of enemy (concrete class) depends on:</li>
    <ul>
        <li>Player’s level</li>
        <li>Player’s location</li>
        <li>Some randomness</li>
    </ul>
    <li>Enemies are created throughout the codebase</li>
    <li>What do you do?</li>
</ul>
<h1 style="page-break-before:always; ">Factory Pattern</h1>
<ul>
    <li>A class that makes objects</li>
    <ul>
        <li>Don’t all classes do that?</li>
    </ul>
    <li>Factory pattern</li>
    <ul>
        <li>Create objects of an abstract type</li>
        <li>No concern about the concrete class that’s instantiated</li>
    </ul>
</ul>
<h1 style="page-break-before:always; "></h1>
<h1 style="page-break-before:always; ">Command pattern</h1>
<ul>
    <li>AI doesn’t push the a button</li>
    <li>AI and human mixed games</li>
</ul>
<h1 style="page-break-before:always; ">Command pattern</h1>
<ul>
    <li>AI doesn’t push the a button</li>
    <li>AI and human mixed games</li>
</ul>
<h1 style="page-break-before:always; ">Command pattern</h1>
<ul>
    <li>AI doesn’t push the a button</li>
    <li>AI and human mixed games</li>
</ul>
<h1 style="page-break-before:always; ">Adapter Pattern</h1>
<ul>
    <li>Interface between 2 different protocols</li>
    <li>Don’t modify the source code of either</li>
    <li>Often needed when combining code bases</li>
    <ul>
        <li>Libraries</li>
    </ul>
    <li>Your code uses a single interface</li>
    <li>Adapters extend the interface and make external function calls</li>
</ul>
<h1 style="page-break-before:always; "></h1>
<p>Library we need expects this:</p>
<p>Our code is built around this:</p>
<h1 style="page-break-before:always; ">Adapter Pattern</h1>
<h1 style="page-break-before:always; ">State Pattern</h1>
<ul>
    <li>CSE116</li>
    <ul>
        <li>Make a program without using “if”</li>
    </ul>
    <li>CSE396</li>
    <ul>
        <li>DFA’s</li>
    </ul>
    <li>Delegate functionality to a state object</li>
    <li>Functionality changes as state chnges</li>
</ul>
<h1 style="page-break-before:always; ">State Pattern</h1>
<h1 style="page-break-before:always; ">State Pattern</h1>
<h1 style="page-break-before:always; ">MVC</h1>
<ul>
    <li>Model</li>
    <ul>
        <li>Where all the action</li>
    </ul>
    <li>View</li>
    <ul>
        <li>What the user sees</li>
        <li>Outputs</li>
    </ul>
    <li>Controller</li>
    <ul>
        <li>How the user interacts</li>
        <li>Inputs</li>
    </ul>
</ul>
<h1 style="page-break-before:always; "></h1>